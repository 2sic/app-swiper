@inherits Custom.Hybrid.Razor14
@using ToSic.Razor.Blade;
@{
  // 2. Include Bootstrap4 if the framework isn't known
  @Kit.Page.Activate(condition: Kit.Css.IsUnknown, features: "Bootstrap5")
  
  var swiperSettings = DynamicModel.SwiperSettings;

  var swiperOptions = new {
    autoplay = swiperSettings.Autoplay,
    speed = swiperSettings.AnimationDuration,
    // The following two values are JSON strings, so we must turn them into an object
    effectDefaults = AsDynamic(swiperSettings.Effect.Configuration),
    fallback = AsDynamic(swiperSettings.EffectFallback)
  };

  var data = new {
    moduleId = Content.EntityId,
    options = swiperOptions
  };
}

<link rel="stylesheet" href="@CmsContext.View.Path/dist/styles.min.css" @Kit.Page.AssetAttributes()/>
<script src="@CmsContext.View.Path/dist/scripts.min.js" @Kit.Page.AssetAttributes()></script>

@* Activation uses turnOn https://r.2sxc.org/turnon *@
@Kit.Page.TurnOn("window.appSwiper2.init()", data: data)
